@using TimeTracking.Models

@{
    ViewBag.Title = "Employee";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/Moment.js"></script>

<script src="~/Scripts/Knockout/TimeSheet.js"></script>

<h2>Employee</h2>


  <div>
    <table class="table table-bordered table-responsive">
        <thead>
            <tr>
                <th>Employee</th>
                <th>Date Selection</th>
                <th>Backup (Y/N)</th>
                <th>Live-In (Y/N)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@ViewBag.empName</td>
                <td>
                    <select class="form-control" name="dateSelected" data-bind="value:dateSelected,options: dateItems,
                       optionsText: 'date',optionsValue: 'date', event:{change:showTime},optionsCaption: 'Select...'"></select>
                </td>
                <td>
                <input type="text" data-bind="value:backup" placeholder="Y/N" class="form-control" />
                </td>
                <td>
                    <input type="text" data-bind="value:liveIn" placeholder="Y/N" class="form-control"/>
                </td>
            </tr>
        </tbody>
    </table>
    <hr />
      <div >
          <table class="table table-bordered table-responsive" data-bind="visble:items.length>0">

              <thead>
                  <tr>
                      <th>Day</th>
                      <th>Service<br />Code</th>
                      <th>Plan<br />Section</th>
                      <th>Time In</th>
                      <th>AM/PM</th>
                      <th>Time Out</th>
                      <th>AM/PM</th>
                      <!-- ko if: HasTime2 -->
                      <th>Time In</th>
                      <th>AM/PM</th>
                      <th>Time Out</th>
                      <th>AM/PM</th>
                      <!-- /ko -->
                      <th>Action</th>

                  </tr>
              </thead>
              <tbody data-bind="foreach:items">

                  <tr>
                      <td>
                          <label data-bind="text:dayName"></label>
                          <br />
                          <label data-bind="text: dayDate"></label>
                      </td>
                      <td>
                          <select class="form-control" data-bind="value:serviceCodeId,options: $root.serviceCodes,
                       optionsText: 'Name',optionsValue: 'Id',optionsCaption: 'Select...'" style="width:70px"></select>

                      </td>
                      <td>
                          <select class="form-control" data-bind="value:plansectionId,options: $root.PlanSections,
                       optionsText: 'Name',optionsValue: 'Id',optionsCaption: 'Select...'" style="width:70px"></select>
                      </td>
                      <td>
                          <select data-bind="value:TimeInH1" class="form-control" style="width:70px;display:inline-block">
                              <option value="-1"></option>
                              <option value="0">00</option>
                              <option value="1">01</option>
                              <option value="2">02</option>
                              <option value="3">03</option>
                              <option value="4">04</option>
                              <option value="5">05</option>
                              <option value="6">06</option>
                              <option value="7">07</option>
                              <option value="8">08</option>
                              <option value="9">09</option>
                              <option value="10">10</option>
                              <option value="11">11</option>
                              <option value="12">12</option>

                          </select> :
                          <select data-bind="value:TimeInM1" class="form-control" style="width:70px;display:inline-block">
                              <option value="-1"></option>
                              <option value="0">00</option>
                              <option value="15">15</option>
                              <option value="30">30</option>
                              <option value="45">45</option>
                              @*<option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>*@
                          </select>
                      </td>
                      <td>
                          <select data-bind="value:isAmIn" class="form-control">
                              <option value="-1"></option>
                              <option value="true">AM</option>
                              <option value="false">PM</option>
                          </select>
                      </td>
                      <td>
                          <select data-bind="value:TimeOutH1" class="form-control" style="width:70px;display:inline-block">
                              <option value="-1"></option>
                              <option value="0">00</option>
                              <option value="1">01</option>
                              <option value="2">02</option>
                              <option value="3">03</option>
                              <option value="4">04</option>
                              <option value="5">05</option>
                              <option value="6">06</option>
                              <option value="7">07</option>
                              <option value="8">08</option>
                              <option value="9">09</option>
                              <option value="10">10</option>
                              <option value="11">11</option>
                              <option value="12">12</option>

                          </select> :
                          <select data-bind="value:TimeOutM1" class="form-control" style="width:70px;display:inline-block">
                              <option value="-1"></option>
                              <option value="0">00</option>
                              <option value="15">15</option>
                              <option value="30">30</option>
                              <option value="45">45</option>
                          </select>

                      </td>
                      <td>
                          <select data-bind="value:isAmOut" class="form-control">
                              <option value="-1"></option>
                              <option value="true">AM</option>
                              <option value="false">PM</option>
                          </select>
                      </td>


                      <!-- ko if: $root.HasTime2 -->
                      <td>
                          <select data-bind="value:TimeIn2H1,visible:Time2 " class=" form-control" style="width:70px;display:inline-block">
                              <option value="-1"></option>
                              <option value="0">00</option>
                              <option value="1">01</option>
                              <option value="2">02</option>
                              <option value="3">03</option>
                              <option value="4">04</option>
                              <option value="5">05</option>
                              <option value="6">06</option>
                              <option value="7">07</option>
                              <option value="8">08</option>
                              <option value="9">09</option>
                              <option value="10">10</option>
                              <option value="11">11</option>
                              <option value="12">12</option>

                          </select> :
                          <select data-bind="value:TimeIn2M1,visible:Time2" class="form-control" style="width:70px;display:inline-block">
                              <option value="-1"></option>
                              <option value="0">00</option>
                              <option value="15">15</option>
                              <option value="30">30</option>
                              <option value="45">45</option>
                          </select>

                      </td>
                      <td>
                          <select data-bind="value:isAmIn2,visible:Time2" class="form-control">
                              <option value="-1"></option>
                              <option value="true">AM</option>
                              <option value="false">PM</option>
                          </select>
                      </td>
                      <td>
                          <select data-bind="value:TimeOut2H1,visible:Time2" class="form-control" style="width:70px;display:inline-block">
                              <option value="-1"></option>
                              <option value="0">00</option>
                              <option value="1">01</option>
                              <option value="2">02</option>
                              <option value="3">03</option>
                              <option value="4">04</option>
                              <option value="5">05</option>
                              <option value="6">06</option>
                              <option value="7">07</option>
                              <option value="8">08</option>
                              <option value="9">09</option>
                              <option value="10">10</option>
                              <option value="11">11</option>
                              <option value="12">12</option>

                          </select> :
                          <select data-bind="value:TimeOut2M1,visible:Time2" class="form-control" style="width:70px;display:inline-block">
                              <option value="-1"></option>
                              <option value="0">00</option>
                              <option value="15">15</option>
                              <option value="30">30</option>
                              <option value="45">45</option>
                          </select>

                      </td>
                      <td>
                          <select data-bind="value:isAmOut2,visible:Time2" class="form-control">
                              <option value="-1"></option>
                              <option value="true">AM</option>
                              <option value="false">PM</option>
                          </select>
                      </td>
                      <!--/ko-->
                      <td>
                          <a href="#" data-bind="click:$root.moreTime,visible:Time2()!=true">Add time</a><a href="#" data-bind="click:$root.lessTime,visible:Time2()==true">Delete time</a>&nbsp; <a href="#" data-bind="click:$root.moreService">Add Service Code</a>
                          &nbsp; <a href="#" data-bind="click:$root.deleteRow">Delete</a>
                      </td>
                  </tr>


              </tbody>
              <tfoot>
                  <tr data-bind="visible:HasTime2()!=true">
                      <td colspan="8" align="right">
                          <input type="button" value="save" data-bind="click:save,disable:isViewOnly()==true" class="btn btn-default" />
                          <input type="button" value="undo" data-bind="click:undo,disable:canUndo()!=true" class="btn btn-default" />
                      </td>
                  </tr>

                  <tr data-bind="visible:HasTime2()==true">
                      <td colspan="12" align="right">
                          <input type="button" value="save" data-bind="click:save,disable:isViewOnly()==true" class="btn btn-default" />
                          <input type="button" value="undo" data-bind="click:undo,disable:canUndo()!=true" class="btn btn-default" />
                      </td>
                  </tr>
              </tfoot>
          </table>
      </div>
          <div id="successdiv" style="display:none" class="text-success">Saved Successfully</div>
          <div id="errorDiv" style="display:none" class="text-danger">
      </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        TimeSheet.load();
    });
</script>

